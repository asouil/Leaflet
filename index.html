<!DOCTYPE html>
<html>
	<head>
        <meta charset="utf-8">
        <!-- Nous chargeons les fichiers CDN de Leaflet. Le CSS AVANT le JS -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
            crossorigin="" />
        <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.css" />
        <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css" />
        <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
            crossorigin=""></script>
        <script type='text/javascript' src='https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js'></script>
        <script type="text/javascript">
            
            let coworking= [
                {
                    "nom": "T\u00e9l\u00e9centre - Aurillac",
                    "adresse": "44 boulevard du Pont Rouge",
                    "code_postal": "15000",
                    "ville": "AURILLAC",
                    "tel": "04-71-45-64-40",
                    "e-mail": "",
                    "site_web": "",
                    "porteur": "",
                    "latitude": 44.92689,
                    "longitude": 2.448084
                },
                {
                    "nom": "Connecting Bourbon",
                    "adresse": "1 place Mar\u00e9chale de Lattre de tassigny",
                    "code_postal": "03000",
                    "ville": "MOULINS",
                    "tel": "00-00-00-00-00",
                    "e-mail": "",
                    "site_web": "http:\/\/connectingbourbon.com\/",
                    "porteur": "",
                    "latitude": 46.5621205,
                    "longitude": 3.33011
                },
                {
                    "nom": "T\u00e9l\u00e9centre du Pays de Mauriac",
                    "adresse": "Rue du 11 novembre",
                    "code_postal": "15200",
                    "ville": "MAURIAC",
                    "tel": "04-71-67-35-97",
                    "e-mail": "telecentre@paysdemauriac.fr",
                    "site_web": "http:\/\/www.telecentre.paysdemauriac.fr\/",
                    "porteur": "Communaut\u00e9 de communes",
                    "latitude": 45.218316,
                    "longitude": 2.334772
                },
                {
                    "nom": "T\u00e9l\u00e9centre - Montmurat",
                    "adresse": "Le bourg",
                    "code_postal": "15600",
                    "ville": "MONTMURAT",
                    "tel": "04-71-46-22-02",
                    "e-mail": "",
                    "site_web": "http:\/\/www.montmurat.fr\/activites\/telecentre",
                    "porteur": "CD15",
                    "latitude": 44.628702,
                    "longitude": 2.200891
                },
                {
                    "nom": "Epicentre Cowork",
                    "adresse": "5 rue Saint-Dominique",
                    "code_postal": "63000",
                    "ville": "CLERMONT-FERRAND",
                    "tel": "09-81-04-60-81",
                    "e-mail": "contact@epicentrecowork.org",
                    "site_web": "http:\/\/epicentrecowork.org\/",
                    "porteur": "SCOP Culture Trafic",
                    "latitude": 45.778593,
                    "longitude": 3.081186
                },
                {
                    "nom": "H\u00e9l'Yss Cowork",
                    "adresse": "4 rue Eug\u00e8ne Gauttier",
                    "code_postal": "63500",
                    "ville": "ISSOIRE",
                    "tel": "04-73-54-73-88",
                    "e-mail": "helyss.cowork@gmail.com",
                    "site_web": "http:\/\/issoire-cowork.org",
                    "porteur": "Association H\u00e9l'Yss",
                    "latitude": 45.545236,
                    "longitude": 3.251364
                },
                {
                    "nom": "La Forge",
                    "adresse": "12 rue Paul Doumer",
                    "code_postal": "15000",
                    "ville": "AURILLAC",
                    "tel": "04-82-53-37-93",
                    "e-mail": "la-forge@coworking-aurillac.fr",
                    "site_web": "http:\/\/www.coworking-aurillac.fr\/",
                    "porteur": "Association La Forge",
                    "latitude": 44.927008,
                    "longitude": 2.44522
                },
                {
                    "nom": "T\u00e9l\u00e9centre - Allanche",
                    "adresse": "Grand'Rue de l'Abb\u00e9 de Pradt",
                    "code_postal": "15160",
                    "ville": "ALLANCHE",
                    "tel": "04-71-20-49-26",
                    "e-mail": "telecentre@cezallier.org",
                    "site_web": "http:\/\/www.cezallier.org\/telecentre.php",
                    "porteur": "Communaut\u00e9 de communes",
                    "latitude": 45.229095,
                    "longitude": 2.93444
                },
                {
                    "nom": "T\u00e9l\u00e9centre - Riom es Montagne",
                    "adresse": "Place de la gare",
                    "code_postal": "15400",
                    "ville": "RIOM-\u00c8S-MONTAGNES",
                    "tel": "04-71-78-21-49",
                    "e-mail": "eps@pays-gentiane.com",
                    "site_web": "http:\/\/www.pays-gentiane.com\/accueillir\/sinstaller-en-pays-gentiane\/le-telecentre-du-pays-gentiane\/",
                    "porteur": "Communaut\u00e9 de communes",
                    "latitude": 45.28482,
                    "longitude": 2.658225
                },
                {
                    "nom": "Le 4puissance3",
                    "adresse": "ZA Chavanon 2",
                    "code_postal": "43120",
                    "ville": "MONISTROL SUR LOIRE",
                    "tel": "06-17-93-76-10",
                    "e-mail": "contact@4puissance3.com",
                    "site_web": "http:\/\/4puissance3.com\/",
                    "porteur": "4puissance3 SARL",
                    "latitude": 45.27093,
                    "longitude": 4.193935
                },
                {
                    "nom": "Local 19",
                    "adresse": "33, rue Pascal",
                    "code_postal": "63000",
                    "ville": "CLERMONT-FERRAND",
                    "tel": "06-01-81-25-42",
                    "e-mail": "contact@local19.fr",
                    "site_web": "http:\/\/www.local19.fr",
                    "porteur": "Association Local 19",
                    "latitude": 45.780081,
                    "longitude": 3.088045
                },
                {
                    "nom": "Combrailles Durables",
                    "adresse": "Le Bourg",
                    "code_postal": "63410",
                    "ville": "LOUBEYRAT",
                    "tel": "09-54-63-92-52",
                    "e-mail": "contact@combraillesdurables.fr",
                    "site_web": "http:\/\/combraillesdurables.blogspot.fr",
                    "porteur": "Combrailles Durables",
                    "latitude": 45.936155,
                    "longitude": 3.010823
                },
                {
                    "nom": "Espace Economique T\u00e9l\u00e9centre",
                    "adresse": "26 rue Winston Churchill",
                    "code_postal": "03120",
                    "ville": "LAPALISSE",
                    "tel": "04-70-99-76-25",
                    "e-mail": "telecentre@cc-paysdelapalisse.fr",
                    "site_web": "http:\/\/www.cc-paysdelapalisse.fr\/entreprendre\/espace-travail-partage.html",
                    "porteur": "Communaut\u00e9 de communes",
                    "latitude": 46.248873,
                    "longitude": 3.635139
                },
                {
                    "nom": "T\u00e9l\u00e9centre - Chaudes Aigues",
                    "adresse": "29, Avenue Pierre Vialard",
                    "code_postal": "15110",
                    "ville": "CHAUDES AIGUES",
                    "tel": "04-71-23-92-33",
                    "e-mail": "maisondeservicesccca@orange.fr",
                    "site_web": "",
                    "porteur": "Communaut\u00e9 de communes",
                    "latitude": 44.85506,
                    "longitude": 3.005618
                },
                {
                    "nom": "P\u00f4le T\u00e9l\u00e9travail du Pays de Murat",
                    "adresse": "4, rue Fg. Notre-Dame",
                    "code_postal": "15300",
                    "ville": "MURAT",
                    "tel": "04-71-20-28-88",
                    "e-mail": "mds@paysdemurat.fr",
                    "site_web": "http:\/\/www.paysdemurat.fr\/telecentre\/accueil.html",
                    "porteur": "Communaut\u00e9 de communes",
                    "latitude": 45.110983,
                    "longitude": 2.869945
                },
                {
                    "nom": "T\u00e9l\u00e9centre - Cassaniouze",
                    "adresse": "Rue du Mont",
                    "code_postal": "15340",
                    "ville": "CASSANIOUZE",
                    "tel": "04-71-49-90-03",
                    "e-mail": "mairie.cassaniouze@wanadoo.fr",
                    "site_web": "",
                    "porteur": "Mairie",
                    "latitude": 44.690281,
                    "longitude": 2.383909
                },
                {
                    "nom": "La maison Jules Verne",
                    "adresse": "Chemin du Fleuve",
                    "code_postal": "43110",
                    "ville": "AUREC-SUR-LOIRE",
                    "tel": "07 61 41 52 40",
                    "e-mail": "contact@yoann-duriaux.fr",
                    "site_web": "http:\/\/yoannduriaux.wixsite.com\/maisonjulesverne",
                    "porteur": "ShareAurec",
                    "latitude": 45.374188,
                    "longitude": 4.200302
                },
                {
                    "nom": "Work \u00e0 venir",
                    "adresse": "5 rue Saint Gen\u00e8s",
                    "code_postal": "63000",
                    "ville": "CLERMONT-FERRAND",
                    "tel": "04-73-92-30-50",
                    "e-mail": "clubworkavenir@gmail.com",
                    "site_web": "https:\/\/clubworkavenir.wordpress.com",
                    "porteur": "Espace Info Jeunes",
                    "latitude": 45.77704,
                    "longitude": 3.085397
                },
                {
                    "nom": "T\u00e9l\u00e9centre - Saint Flour",
                    "adresse": "ZA Rozier Coren",
                    "code_postal": "15100",
                    "ville": "SAINT FLOUR",
                    "tel": "04-71-60-56-83",
                    "e-mail": "s.soubeyroux@ccpsf.fr",
                    "site_web": "http:\/\/www.cc-paysdesaintflour.fr\/entreprendre\/telecentre\/",
                    "porteur": "Communaut\u00e9 de communes",
                    "latitude": 45.061804,
                    "longitude": 3.107845
                },
                {
                    "nom": "T\u00e9l\u00e9centre - Ydes",
                    "adresse": "4 rue du Docteur Basset",
                    "code_postal": "15210",
                    "ville": "YDES",
                    "tel": "04-71-40-87-31",
                    "e-mail": "services-publics@ydes,fr",
                    "site_web": "",
                    "porteur": "CD15",
                    "latitude": 45.346126,
                    "longitude": 2.43607
                },
                {
                    "nom": "Num\u00e9ro 7 Cowork In Velay",
                    "adresse": "7 Boulevard Saint Louis",
                    "code_postal": "43000",
                    "ville": "LE PUY EN VELAY",
                    "tel": "06-58-99-61-19",
                    "e-mail": "contact@numero-sept.net",
                    "site_web": "http:\/\/www.numero-sept.net\/",
                    "porteur": "Num\u00e9ro 7",
                    "latitude": 45.041847,
                    "longitude": 3.881518
                },
                {
                    "nom": "Le Bivouac",
                    "adresse": "22, All\u00e9e Alan Turing",
                    "code_postal": "63000",
                    "ville": "CLERMONT-FERRAND",
                    "tel": "04-43-86-02-00",
                    "e-mail": "hello@lebivouac.com",
                    "site_web": "http:\/\/www.lebivouac.com",
                    "porteur": "GIP",
                    "latitude": 45.758811,
                    "longitude": 3.129791
                }
            ];

			// On initialise la latitude et la longitude de Montluçon (centre de la carte)
			var lat = 46.3385787;
			var lon = 2.4771762;
			var macarte = null;
            var markerClusters; // Servira à stocker les groupes de marqueurs

			// Fonction d'initialisation de la carte
            function initMap() {
                // Nous définissons le dossier qui contiendra les marqueurs
                var iconBase = './images/';
				// Créer l'objet "macarte" et l'insèrer dans l'élément HTML qui a l'ID "map"
                macarte = L.map('map').setView([lat, lon], 8);
                markerClusters = L.markerClusterGroup(); // Nous initialisons les groupes de marqueurs
                // Leaflet ne récupère pas les cartes (tiles) sur un serveur par défaut. Nous devons lui préciser où nous souhaitons les récupérer. Ici, openstreetmap.fr
                L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
                    // Il est toujours bien de laisser le lien vers la source des données
                    attribution: 'données © <a href="//osm.org/copyright">OpenStreetMap</a>/ODbL - rendu <a href="//openstreetmap.fr">OSM France</a>',
                    minZoom: 1,
                    maxZoom: 20
                }).addTo(macarte);
                // Nous parcourons la liste des villes
                
	                // Nous définissons l'icône à utiliser pour le marqueur, sa taille affichée (iconSize), sa position (iconAnchor) et le décalage de son ancrage (popupAnchor)
                    var myIcon = L.icon({
                        iconUrl: iconBase + "autres.png",
                        iconSize: [50, 50],
                        iconAnchor: [25, 50],
                        popupAnchor: [-3, -76],
                    });
                    
                for (i=0 ; i< coworking.length; i++) {
	                // Nous définissons l'icône à utiliser pour le marqueur, sa taille affichée (iconSize), sa position (iconAnchor) et le décalage de son ancrage (popupAnchor)
                    var marker = L.marker([coworking[i].latitude, coworking[i].longitude], { icon: myIcon }); 
                    // pas de addTo(macarte), l'affichage sera géré par la bibliothèque des clusters
                    marker.bindPopup([coworking]);
                    markerClusters.addLayer(marker); // Nous ajoutons le marqueur aux groupes
                }
                macarte.addLayer(markerClusters);
            }
			window.onload = function(){
				// Fonction d'initialisation qui s'exécute lorsque le DOM est chargé
				initMap(); 
			};
		</script>
		<style type="text/css">
			#map{ /* la carte DOIT avoir une hauteur sinon elle n'apparaît pas */
				height:400px;
			}
		</style>
		<title>Carte</title>
	</head>
	<body>
		<div id="map">
			<!-- Ici s'affichera la carte -->
		</div>
	</body>
</html>